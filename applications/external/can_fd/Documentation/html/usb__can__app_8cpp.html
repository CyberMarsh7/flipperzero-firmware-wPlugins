<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLIPPER ZERO CAN FD HS SW: usb_can_app.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FLIPPER ZERO CAN FD HS SW
   </div>
   <div id="projectbrief">Software creating an USB-CAN bridge between host PC and a CAN network</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">usb_can_app.cpp File Reference<div class="ingroups"><a class="el" href="group__APP.html">APP</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Application main file. It is top level file and application entry (and exit) point. It allocates and centralize top level ressources, initialize applications components.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="usb__can__app__i_8hpp_source.html">usb_can_app_i.hpp</a>&quot;</code><br />
<code>#include &lt;furi.h&gt;</code><br />
<code>#include &lt;furi_hal.h&gt;</code><br />
<code>#include &quot;<a class="el" href="usb__can__view_8hpp_source.html">views/usb_can_view.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for usb_can_app.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="usb__can__app_8cpp__incl.png" border="0" usemap="#ausb__can__app_8cpp" alt=""/></div>
<map name="ausb__can__app_8cpp" id="ausb__can__app_8cpp">
<area shape="rect" title="Application main file. It is top level file and application entry (and exit) point...." alt="" coords="952,5,1085,31"/>
<area shape="rect" href="usb__can__app__i_8hpp.html" title="Application top level header file. It holds main structures definitions related to MODEL,..." alt="" coords="914,152,1059,177"/>
<area shape="poly" title=" " alt="" coords="1018,32,994,139,989,138,1013,31"/>
<area shape="rect" title=" " alt="" coords="1024,79,1080,104"/>
<area shape="poly" title=" " alt="" coords="1026,30,1043,65,1038,67,1021,32"/>
<area shape="rect" title=" " alt="" coords="1104,79,1186,104"/>
<area shape="poly" title=" " alt="" coords="1040,28,1113,69,1111,74,1037,33"/>
<area shape="rect" href="usb__can__view_8hpp.html" title=" " alt="" coords="766,79,948,104"/>
<area shape="poly" title=" " alt="" coords="993,33,897,75,895,71,991,28"/>
<area shape="rect" href="usbCan__scene_8hpp.html" title="scene definitions : This is the logic between different menus of the applications...." alt="" coords="992,233,1184,258"/>
<area shape="poly" title=" " alt="" coords="1003,175,1063,222,1060,226,1000,180"/>
<area shape="rect" href="scene__manager_8h.html" title=" " alt="" coords="996,401,1156,427"/>
<area shape="poly" title=" " alt="" coords="1060,175,1142,194,1176,208,1198,224,1204,239,1205,257,1195,298,1180,334,1167,355,1142,379,1115,397,1112,393,1139,375,1163,352,1175,331,1190,296,1200,257,1199,240,1194,227,1174,212,1140,199,1059,180"/>
<area shape="rect" href="usb__can__custom__event_8hpp.html" title="contains event related to USB CAN Application definitions." alt="" coords="1258,233,1461,258"/>
<area shape="poly" title=" " alt="" coords="1041,175,1292,227,1291,232,1040,180"/>
<area shape="rect" href="gui_8h.html" title=" " alt="" coords="455,321,534,346"/>
<area shape="poly" title=" " alt="" coords="914,170,684,177,393,189,137,206,53,216,28,222,16,227,10,236,8,245,16,264,45,284,89,300,144,312,206,320,335,329,442,330,442,336,335,334,206,326,143,317,88,305,43,289,12,267,3,245,5,234,13,223,26,217,52,211,137,201,393,184,684,172,913,165"/>
<area shape="rect" href="view__dispatcher_8h.html" title=" " alt="" coords="618,233,781,258"/>
<area shape="poly" title=" " alt="" coords="945,180,755,232,754,227,944,175"/>
<area shape="rect" href="submenu_8h.html" title=" " alt="" coords="232,233,410,258"/>
<area shape="poly" title=" " alt="" coords="914,174,694,195,423,228,392,233,391,228,422,223,693,190,913,169"/>
<area shape="rect" title=" " alt="" coords="1486,225,1658,265"/>
<area shape="poly" title=" " alt="" coords="1059,171,1242,191,1472,223,1472,228,1242,197,1059,176"/>
<area shape="rect" href="variable__item__list_8h.html" title=" " alt="" coords="435,225,594,265"/>
<area shape="poly" title=" " alt="" coords="914,179,608,228,607,223,913,174"/>
<area shape="rect" href="widget_8h.html" title=" " alt="" coords="805,233,968,258"/>
<area shape="poly" title=" " alt="" coords="973,180,914,226,910,222,970,175"/>
<area shape="rect" href="dialog__ex_8h.html" title=" " alt="" coords="26,233,208,258"/>
<area shape="poly" title=" " alt="" coords="913,172,610,190,416,206,220,228,188,233,187,228,219,223,415,201,610,185,913,166"/>
<area shape="rect" href="mcp2518fd__can_8h.html" title=" " alt="" coords="1795,225,2018,265"/>
<area shape="poly" title=" " alt="" coords="1060,167,1369,186,1572,202,1782,223,1781,228,1572,207,1369,191,1059,172"/>
<area shape="rect" title=" " alt="" coords="1682,233,1770,258"/>
<area shape="poly" title=" " alt="" coords="1059,164,1177,168,1330,177,1500,195,1671,223,1684,226,1683,231,1670,228,1500,200,1329,183,1177,173,1059,169"/>
<area shape="rect" href="furi__hal__usb__cdc_8h.html" title=" " alt="" coords="2042,233,2184,258"/>
<area shape="poly" title=" " alt="" coords="1060,163,1232,166,1473,174,1750,192,1892,206,2031,223,2056,227,2055,232,2030,228,1891,211,1750,197,1473,180,1232,171,1059,169"/>
<area shape="poly" title=" " alt="" coords="1104,256,1128,280,1147,312,1153,334,1147,354,1131,378,1110,396,1107,392,1127,374,1143,352,1147,334,1143,314,1124,283,1100,260"/>
<area shape="rect" href="usbCan__scene__config_8hpp.html" title=" " alt="" coords="944,321,1133,346"/>
<area shape="poly" title=" " alt="" coords="1083,260,1054,310,1050,307,1079,257"/>
<area shape="rect" title=" " alt="" coords="1038,475,1113,500"/>
<area shape="poly" title=" " alt="" coords="1078,427,1078,461,1073,461,1073,427"/>
<area shape="rect" title=" " alt="" coords="872,709,943,735"/>
<area shape="poly" title=" " alt="" coords="1067,429,1029,476,993,536,963,598,920,697,915,695,958,596,989,534,1024,473,1062,425"/>
<area shape="rect" title=" " alt="" coords="788,636,870,661"/>
<area shape="poly" title=" " alt="" coords="1046,429,1005,449,963,477,925,514,892,554,844,626,840,623,887,551,921,510,959,473,1002,444,1044,424"/>
<area shape="rect" href="view__port_8h.html" title=" " alt="" coords="493,401,592,427"/>
<area shape="poly" title=" " alt="" coords="504,345,530,388,526,391,499,348"/>
<area shape="rect" href="canvas_8h.html" title=" " alt="" coords="513,475,593,500"/>
<area shape="poly" title=" " alt="" coords="491,347,480,384,478,405,483,426,500,448,521,465,517,469,496,451,479,428,473,406,474,383,486,345"/>
<area shape="rect" title=" " alt="" coords="617,475,721,500"/>
<area shape="poly" title=" " alt="" coords="564,424,637,465,635,470,561,429"/>
<area shape="poly" title=" " alt="" coords="547,427,552,461,547,462,541,427"/>
<area shape="poly" title=" " alt="" coords="556,500,560,532,569,575,587,621,601,642,617,659,635,670,659,679,723,695,859,714,858,719,722,700,658,684,632,675,614,663,597,645,583,623,564,577,554,533,551,500"/>
<area shape="rect" href="icon__animation_8h.html" title=" " alt="" coords="660,555,819,581"/>
<area shape="poly" title=" " alt="" coords="581,498,701,548,699,553,579,502"/>
<area shape="rect" href="icon_8h.html" title=" " alt="" coords="628,636,713,661"/>
<area shape="poly" title=" " alt="" coords="564,498,656,623,652,626,559,502"/>
<area shape="poly" title=" " alt="" coords="744,580,754,619,764,640,778,660,796,675,817,688,860,706,858,711,814,693,793,680,774,663,759,643,749,621,739,582"/>
<area shape="poly" title=" " alt="" coords="755,579,807,625,804,629,751,583"/>
<area shape="poly" title=" " alt="" coords="731,583,692,627,688,624,727,579"/>
<area shape="poly" title=" " alt="" coords="709,659,860,704,858,709,708,664"/>
<area shape="poly" title=" " alt="" coords="701,258,703,304,711,330,725,351,754,360,819,372,983,397,982,402,818,377,753,365,722,355,706,332,698,305,696,258"/>
<area shape="poly" title=" " alt="" coords="673,261,536,318,534,313,671,256"/>
<area shape="rect" href="view_8h.html" title=" " alt="" coords="597,321,661,346"/>
<area shape="poly" title=" " alt="" coords="692,260,649,311,645,308,688,256"/>
<area shape="poly" title=" " alt="" coords="662,341,699,351,763,363,814,370,865,379,927,399,995,431,1050,465,1047,469,992,436,925,404,863,384,813,375,762,368,698,356,660,346"/>
<area shape="poly" title=" " alt="" coords="662,342,732,367,813,401,851,421,881,442,902,464,910,486,910,569,910,696,905,696,905,569,905,486,898,466,878,446,848,426,811,406,730,372,661,347"/>
<area shape="poly" title=" " alt="" coords="635,346,650,401,666,461,660,462,645,402,630,347"/>
<area shape="poly" title=" " alt="" coords="630,347,622,384,606,428,577,466,573,463,601,425,617,382,625,345"/>
<area shape="poly" title=" " alt="" coords="643,345,690,397,716,433,735,474,743,509,744,541,739,542,738,509,730,476,711,436,686,400,639,348"/>
<area shape="poly" title=" " alt="" coords="363,256,585,317,583,322,362,261"/>
<area shape="poly" title=" " alt="" coords="541,263,604,310,601,314,538,268"/>
<area shape="poly" title=" " alt="" coords="852,261,675,320,673,315,851,256"/>
<area shape="rect" href="widget__element_8h.html" title=" " alt="" coords="736,313,919,353"/>
<area shape="poly" title=" " alt="" coords="881,260,851,303,846,300,876,257"/>
<area shape="poly" title=" " alt="" coords="178,255,220,263,383,286,545,311,584,319,583,324,545,316,382,291,219,268,177,261"/>
<area shape="rect" href="mcp2518fd__can__dfs_8h.html" title=" " alt="" coords="1824,321,1988,346"/>
<area shape="poly" title=" " alt="" coords="1909,266,1909,307,1904,307,1904,266"/>
<area shape="rect" href="Arduino_8h.html" title="used to not provoke inclusion error in Longan labs library. delay() macro is redefined to call furi d..." alt="" coords="1771,475,1855,500"/>
<area shape="poly" title=" " alt="" coords="1874,268,1840,290,1803,321,1770,359,1747,402,1745,414,1747,426,1763,447,1783,465,1779,469,1759,451,1743,428,1739,414,1742,400,1766,356,1800,317,1837,286,1871,263"/>
<area shape="rect" href="SPI_8h.html" title="Bridge for porting Longan_CANFD to flipper zero without modifying code. A simple pull to the repo sha..." alt="" coords="1642,475,1696,500"/>
<area shape="poly" title=" " alt="" coords="1847,268,1805,288,1767,315,1736,351,1711,391,1679,463,1675,461,1706,389,1732,348,1763,311,1803,283,1845,263"/>
<area shape="poly" title=" " alt="" coords="1908,347,1901,384,1883,428,1865,451,1844,469,1840,465,1861,447,1879,425,1896,383,1903,346"/>
<area shape="rect" title=" " alt="" coords="1892,475,1979,500"/>
<area shape="poly" title=" " alt="" coords="1913,346,1928,401,1936,460,1931,461,1922,402,1908,347"/>
<area shape="rect" href="mcp__can__fd_8h.html" title=" " alt="" coords="1757,401,1869,427"/>
<area shape="poly" title=" " alt="" coords="1894,348,1839,394,1836,390,1891,344"/>
<area shape="rect" title=" " alt="" coords="1757,548,1869,588"/>
<area shape="poly" title=" " alt="" coords="1816,500,1816,534,1810,534,1810,500"/>
<area shape="poly" title=" " alt="" coords="1757,423,1127,484,1126,478,1757,418"/>
<area shape="poly" title=" " alt="" coords="1816,427,1816,461,1810,461,1810,427"/>
<area shape="poly" title=" " alt="" coords="1834,424,1905,465,1903,470,1831,429"/>
<area shape="poly" title=" " alt="" coords="1791,429,1706,471,1704,466,1789,424"/>
<area shape="poly" title=" " alt="" coords="1642,500,957,708,956,703,1641,495"/>
<area shape="poly" title=" " alt="" coords="2103,260,2081,284,2061,315,2038,362,2033,384,2032,413,2032,570,2029,581,2021,591,1993,609,1949,626,1892,641,1747,666,1574,686,1391,701,1216,711,957,722,957,717,1216,706,1391,695,1574,680,1746,661,1891,636,1948,621,1991,605,2017,587,2024,578,2026,569,2026,413,2028,383,2033,360,2056,312,2077,281,2099,257"/>
<area shape="rect" title=" " alt="" coords="2070,321,2156,346"/>
<area shape="poly" title=" " alt="" coords="2116,258,2116,306,2110,306,2110,258"/>
<area shape="poly" title=" " alt="" coords="879,102,954,143,952,147,876,106"/>
<area shape="poly" title=" " alt="" coords="766,95,578,101,467,109,352,121,243,137,145,160,67,190,38,208,16,227,8,246,10,254,16,263,27,271,47,277,106,287,273,300,443,305,545,311,584,318,583,323,545,316,443,311,273,305,106,293,46,282,25,275,12,267,5,256,3,245,12,224,35,203,65,185,144,155,242,132,351,115,466,104,578,96,766,90"/>
</map>
</div>
</div>
<p><a href="usb__can__app_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aba6ad42ce22b3b7b7ce3447600d63b7c" id="r_aba6ad42ce22b3b7b7ce3447600d63b7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">static</a> <a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__can__app_8cpp.html#aba6ad42ce22b3b7b7ce3447600d63b7c">usb_can_app_custom_event_callback</a> (<a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> *context, <a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">uint32_t</a> event)</td></tr>
<tr class="memdesc:aba6ad42ce22b3b7b7ce3447600d63b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">called on event  <br /></td></tr>
<tr class="separator:aba6ad42ce22b3b7b7ce3447600d63b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8460cff7975a2f92003db2f9cf7a3a3" id="r_ab8460cff7975a2f92003db2f9cf7a3a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">static</a> <a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__can__app_8cpp.html#ab8460cff7975a2f92003db2f9cf7a3a3">usb_can_app_back_event_callback</a> (<a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> *context)</td></tr>
<tr class="memdesc:ab8460cff7975a2f92003db2f9cf7a3a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">called when back key is pressed by user event: <a class="el" href="scene__manager_8c.html#a0cdb32fec521fbe715156c3a66fa2134">scene_manager_handle_back_event()</a> will be called.  <br /></td></tr>
<tr class="separator:ab8460cff7975a2f92003db2f9cf7a3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ec9791c9083c5b570f83cf8a9c402b" id="r_ad1ec9791c9083c5b570f83cf8a9c402b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">static</a> <a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__can__app_8cpp.html#ad1ec9791c9083c5b570f83cf8a9c402b">usb_can_app_tick_event_callback</a> (<a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> *context)</td></tr>
<tr class="memdesc:ad1ec9791c9083c5b570f83cf8a9c402b"><td class="mdescLeft">&#160;</td><td class="mdescRight">called when tick event is trigged: it will update display through <a class="el" href="scene__manager_8c.html#acedb00f9104f4e9ac7acd29097a0b88b">scene_manager_handle_tick_event()</a> will be called.  <br /></td></tr>
<tr class="separator:ad1ec9791c9083c5b570f83cf8a9c402b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f2875694a49f1a33d4341f0c2348da" id="r_ae2f2875694a49f1a33d4341f0c2348da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structUsbCanApp.html">UsbCanApp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__can__app_8cpp.html#ae2f2875694a49f1a33d4341f0c2348da">usb_can_app_alloc</a> ()</td></tr>
<tr class="memdesc:ae2f2875694a49f1a33d4341f0c2348da"><td class="mdescLeft">&#160;</td><td class="mdescRight">allocate memory space for an <a class="el" href="structUsbCanApp.html">UsbCanApp</a> instance and initialize : it will mainly allocate, all views (standard menus and custom <a class="el" href="group__VIEW.html">VIEW</a>) and start app by calling <a class="el" href="scene__manager_8c.html#a6bd22876c2f7b40154a55a66331fad3a">scene_manager_next_scene()</a> <br  />
  <br /></td></tr>
<tr class="separator:ae2f2875694a49f1a33d4341f0c2348da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084130f97e1e2d64b9782568afb29dd9" id="r_a084130f97e1e2d64b9782568afb29dd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__can__app_8cpp.html#a084130f97e1e2d64b9782568afb29dd9">usb_can_app_free</a> (<a class="el" href="structUsbCanApp.html">UsbCanApp</a> *<a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">app</a>)</td></tr>
<tr class="memdesc:a084130f97e1e2d64b9782568afb29dd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">free allocated memory space and ressources used by <a class="el" href="structUsbCanApp.html">UsbCanApp</a> instance allocated and initialized via <a class="el" href="usb__can__app_8cpp.html#ae2f2875694a49f1a33d4341f0c2348da">usb_can_app_alloc()</a>  <br /></td></tr>
<tr class="separator:a084130f97e1e2d64b9782568afb29dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a40865a5abc93dd40c5295c2772096d" id="r_a7a40865a5abc93dd40c5295c2772096d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__can__app_8cpp.html#a7a40865a5abc93dd40c5295c2772096d">usb_can_app</a> (<a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> *<a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">p</a>)</td></tr>
<tr class="memdesc:a7a40865a5abc93dd40c5295c2772096d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function called by entry function <a class="el" href="usb__can__app__start_8c.html#aecae52d075bc7008cc6f14582674e44b">usb_can_app_start</a>. It will allocate ressource through <a class="el" href="usb__can__app_8cpp.html#ae2f2875694a49f1a33d4341f0c2348da">usb_can_app_alloc</a>, start main application thread through <a class="el" href="view__dispatcher_8c.html#adb50493658df114b3bc3e67c10152516">view_dispatcher_run()</a>, and free ressources once applications is terminated via <a class="el" href="usb__can__app_8cpp.html#a084130f97e1e2d64b9782568afb29dd9">usb_can_app_free()</a>.  <br /></td></tr>
<tr class="separator:a7a40865a5abc93dd40c5295c2772096d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Application main file. It is top level file and application entry (and exit) point. It allocates and centralize top level ressources, initialize applications components. </p>

<p class="definition">Definition in file <a class="el" href="usb__can__app_8cpp_source.html">usb_can_app.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7a40865a5abc93dd40c5295c2772096d" name="a7a40865a5abc93dd40c5295c2772096d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a40865a5abc93dd40c5295c2772096d">&#9670;&#160;</a></span>usb_can_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">int32_t</a> usb_can_app </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function called by entry function <a class="el" href="usb__can__app__start_8c.html#aecae52d075bc7008cc6f14582674e44b">usb_can_app_start</a>. It will allocate ressource through <a class="el" href="usb__can__app_8cpp.html#ae2f2875694a49f1a33d4341f0c2348da">usb_can_app_alloc</a>, start main application thread through <a class="el" href="view__dispatcher_8c.html#adb50493658df114b3bc3e67c10152516">view_dispatcher_run()</a>, and free ressources once applications is terminated via <a class="el" href="usb__can__app_8cpp.html#a084130f97e1e2d64b9782568afb29dd9">usb_can_app_free()</a>. </p>
<p>This intermediary function is used because beeing within a C++ compilation unit, and therefore beeing able to use C++ features. </p>

<p class="definition">Definition at line <a class="el" href="usb__can__app_8cpp_source.html#l00134">134</a> of file <a class="el" href="usb__can__app_8cpp_source.html">usb_can_app.cpp</a>.</p>

</div>
</div>
<a id="ae2f2875694a49f1a33d4341f0c2348da" name="ae2f2875694a49f1a33d4341f0c2348da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2f2875694a49f1a33d4341f0c2348da">&#9670;&#160;</a></span>usb_can_app_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structUsbCanApp.html">UsbCanApp</a> * usb_can_app_alloc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allocate memory space for an <a class="el" href="structUsbCanApp.html">UsbCanApp</a> instance and initialize : it will mainly allocate, all views (standard menus and custom <a class="el" href="group__VIEW.html">VIEW</a>) and start app by calling <a class="el" href="scene__manager_8c.html#a6bd22876c2f7b40154a55a66331fad3a">scene_manager_next_scene()</a> <br  />
 </p>
<p>This function is called on application (selection of CAN-FD-HS application by user from the main menu) entry and performs the following actions:</p><ol type="1">
<li>allocate space for the main application data instance (of type <a class="el" href="structUsbCanApp.html">UsbCanApp</a>) holding all references needed for application components functionning.</li>
<li>allocate space and initialize scene manager used by <a class="el" href="group__CONTROLLER.html">CONTROLLER</a> component</li>
<li>allocate space and initialize <a class="el" href="group__VIEW.html">VIEW</a> component ( <a class="el" href="structUsbCanApp.html#aa25ba1ce3d954e2e413850c603612413">UsbCanApp::views</a>): <ol>
<li>
allocate (via <a class="el" href="view__dispatcher_8c.html#a84203d207544cf8dfa274513bd77a21f">view_dispatcher_enable_queue</a>) and initialize top level view object <a class="el" href="structUsbCanAppViews.html#a278e150704f45767202e37fec35b23e8">UsbCanAppViews::view_dispatcher</a> by enabling message queue ( <a class="el" href="view__dispatcher_8c.html#a84203d207544cf8dfa274513bd77a21f">view_dispatcher_enable_queue</a>) and registering callbacks to furi gui module:<ul>
<li><a class="el" href="usb__can__app_8cpp.html#aba6ad42ce22b3b7b7ce3447600d63b7c">usb_can_app_custom_event_callback</a> registered through <a class="el" href="view__dispatcher_8c.html#a22387ce28d9d63a2c75f48584ccaa2ca">view_dispatcher_set_custom_event_callback()</a></li>
<li><a class="el" href="usb__can__app_8cpp.html#ab8460cff7975a2f92003db2f9cf7a3a3">usb_can_app_back_event_callback</a> registered through <a class="el" href="view__dispatcher_8c.html#aeba719c28032c2f6e72c95329b8e5c2f">view_dispatcher_set_navigation_event_callback()</a></li>
<li><a class="el" href="usb__can__app_8cpp.html#ad1ec9791c9083c5b570f83cf8a9c402b">usb_can_app_tick_event_callback</a> registered through <a class="el" href="view__dispatcher_8c.html#a93907d644d5e6b83efb067096c073af3">view_dispatcher_set_tick_event_callback</a> </li>
</ul>
</li>
<li>
allocate the two item list menus views ( <a class="el" href="structUsbCanAppViews.html#a7a24647cbec1204003d5d1f88cf87589">UsbCanAppViews::menu</a>) used to select app mode and to configure VCP channel used (resp. <a class="el" href="usb__can__app__i_8hpp.html#a5ea28af7210165fd74fccaac779aefa2acd07d7a22afcc17debc8c1c2bb74f950">UsbCanAppViewMenu</a> and <a class="el" href="usb__can__app__i_8hpp.html#a5ea28af7210165fd74fccaac779aefa2a09dfc508fa621b79d9589e60c1e6e3aa">UsbCanAppViewCfg</a>) via <a class="el" href="variable__item__list_8c.html#a6b7121f5dbbb4ad078bf9660736296c3">variable_item_list_alloc</a> and register it to view dispatcher via <a class="el" href="view__dispatcher_8c.html#a20ac8aa524573e46f5b90c753d7ec17f">view_dispatcher_add_view()</a> </li>
<li>
allocate error message popup view ( <a class="el" href="structUsbCanAppViews.html#ab74ecf2dd2c1ebd3c86a8b197226b372">UsbCanAppViews::usb_busy_popup</a>) via <a class="el" href="widget_8c.html#ad0a29b3bfd595a07f555ad12212b575a">widget_alloc</a> and register it to view dispatcher via <a class="el" href="view__dispatcher_8c.html#a20ac8aa524573e46f5b90c753d7ec17f">view_dispatcher_add_view()</a> </li>
<li>
allocate application specific view imlplemented in <a class="el" href="group__VIEW.html">VIEW</a> module ( <a class="el" href="structUsbCanAppViews.html#a448f12df713b36f0718a35928ea140c5">UsbCanAppViews::usb_can</a>) via <a class="el" href="group__VIEW.html#ga5358239961c5ae9792403bfba5f2daec">usb_can_view_alloc()</a> and register it to view dispatcher via <a class="el" href="view__dispatcher_8c.html#a20ac8aa524573e46f5b90c753d7ec17f">view_dispatcher_add_view()</a> </li>
<li>
allocate quit dialog view ( <a class="el" href="structUsbCanAppViews.html#a00a9a937bd77ae4752e0b7262acd01c2">UsbCanAppViews::quit_dialog</a>) via <a class="el" href="dialog__ex_8c.html#af9f23bc67a1a36109c3b08a364614d21">dialog_ex_alloc()</a>. and register it to view dispatcher via <a class="el" href="view__dispatcher_8c.html#a20ac8aa524573e46f5b90c753d7ec17f">view_dispatcher_add_view()</a> </li>
</ol>
</li>
<li>start <a class="el" href="group__CONTROLLER.html">CONTROLLER</a> component by calling <a class="el" href="scene__manager_8c.html#a6bd22876c2f7b40154a55a66331fad3a">scene_manager_next_scene</a> with parameter set to <a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">UsbCanSceneStart</a> in order to display app mode selection menu ( <a class="el" href="group__SCENE-START.html">SCENE-START</a>). </li>
</ol>

<p class="definition">Definition at line <a class="el" href="usb__can__app_8cpp_source.html#l00048">48</a> of file <a class="el" href="usb__can__app_8cpp_source.html">usb_can_app.cpp</a>.</p>

</div>
</div>
<a id="ab8460cff7975a2f92003db2f9cf7a3a3" name="ab8460cff7975a2f92003db2f9cf7a3a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8460cff7975a2f92003db2f9cf7a3a3">&#9670;&#160;</a></span>usb_can_app_back_event_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">static</a> <a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">bool</a> usb_can_app_back_event_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>called when back key is pressed by user event: <a class="el" href="scene__manager_8c.html#a0cdb32fec521fbe715156c3a66fa2134">scene_manager_handle_back_event()</a> will be called. </p>

<p class="definition">Definition at line <a class="el" href="usb__can__app_8cpp_source.html#l00018">18</a> of file <a class="el" href="usb__can__app_8cpp_source.html">usb_can_app.cpp</a>.</p>

</div>
</div>
<a id="aba6ad42ce22b3b7b7ce3447600d63b7c" name="aba6ad42ce22b3b7b7ce3447600d63b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba6ad42ce22b3b7b7ce3447600d63b7c">&#9670;&#160;</a></span>usb_can_app_custom_event_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">static</a> <a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">bool</a> usb_can_app_custom_event_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">uint32_t</a>&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>called on event </p>

<p class="definition">Definition at line <a class="el" href="usb__can__app_8cpp_source.html#l00011">11</a> of file <a class="el" href="usb__can__app_8cpp_source.html">usb_can_app.cpp</a>.</p>

</div>
</div>
<a id="a084130f97e1e2d64b9782568afb29dd9" name="a084130f97e1e2d64b9782568afb29dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a084130f97e1e2d64b9782568afb29dd9">&#9670;&#160;</a></span>usb_can_app_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> usb_can_app_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUsbCanApp.html">UsbCanApp</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>free allocated memory space and ressources used by <a class="el" href="structUsbCanApp.html">UsbCanApp</a> instance allocated and initialized via <a class="el" href="usb__can__app_8cpp.html#ae2f2875694a49f1a33d4341f0c2348da">usb_can_app_alloc()</a> </p>

<p class="definition">Definition at line <a class="el" href="usb__can__app_8cpp_source.html#l00107">107</a> of file <a class="el" href="usb__can__app_8cpp_source.html">usb_can_app.cpp</a>.</p>

</div>
</div>
<a id="ad1ec9791c9083c5b570f83cf8a9c402b" name="ad1ec9791c9083c5b570f83cf8a9c402b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1ec9791c9083c5b570f83cf8a9c402b">&#9670;&#160;</a></span>usb_can_app_tick_event_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">static</a> <a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> usb_can_app_tick_event_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="furi__hal__usb__hid_8c.html#a3ed6e6c91c0b672a428f3f627dfd148b">void</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>called when tick event is trigged: it will update display through <a class="el" href="scene__manager_8c.html#acedb00f9104f4e9ac7acd29097a0b88b">scene_manager_handle_tick_event()</a> will be called. </p>

<p class="definition">Definition at line <a class="el" href="usb__can__app_8cpp_source.html#l00025">25</a> of file <a class="el" href="usb__can__app_8cpp_source.html">usb_can_app.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
